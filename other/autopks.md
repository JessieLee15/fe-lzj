# 多系统上线解决方案

这是一个长期（相对高端一点点）方案，个人的目标是做一个工具化的成品，实现耦合低又很灵活、顺带自动化的代码管理（主要是针对目前的多系统上线）；

原则：
1. 此工具要有针对性，不是一个all-in-one的工具，该不考虑的就别考虑，不需要扩展的不扩展
2. 功能明确，目的在精简，一切以方便管理及合理出发
3. 前期把各自想到的问题都提出来，目的是来明确这个工具的功能及界限，成品是一个目标及要求列表
4. 后期根据这个列表调研工具需要用到的技术

## 问题
* 通过git上线：本地编译/服务器编译 提供前端构建后的资源
* 系统 10-20 个
* 一个仓库一个系统 一个仓库多个系统
* 构建工具：fisp fis3 webpack
* 版本回溯

## 问题
* 源码和编译后资源是否应该有耦合？
  * 放在同一个仓库，不同文件夹下？还是把编译后代码拎出来单独管理？拎出来的话各系统是否公用同一个仓库？
* 源码中是否可以直接操作到编译后代码？
* 编译后代码如何管理？
* 考虑测试环境？考虑开发流程
* 构建流程放在哪里？本地or服务器？
  * 本地：前端掌控，交付给上线人员：直接上线的资源
  * 服务器：上线人员掌控构建过程，交互给线上人员：源码资源，前端维护此工具
    * node环境集成
    * npm包更新如何管理？每次要服务器npm install: 执行时机、触发时机、容错机制、异常处理
* 个人觉得开发人员源码仓库不应该追踪到编译后代码的改变，这点很恶心人
* 但是按理讲每个开发人员也应该感知编译后代码，并有操作权利
  * 编译后代码：上线、开发环节都涉及到，该如何划分
  * 划分后的权限、维度管理
* 此工具前期可以是理念，然后可形成可以运行的本地集成命令工具，后期考虑图形化界面

## 目标
* 管理灵活、集成简化
* 单独系统单独构建
